"use strict";(self.webpackChunkreact_native_gesture_handler_docs=self.webpackChunkreact_native_gesture_handler_docs||[]).push([[2235],{2800:(e,t,n)=>{n.d(t,{A:()=>j});var r=n(6540),s=n(8069);const o={container:"container_oGcb",collapseButton:"collapseButton_YVdr"},i="collapseButton_X7H2",a="arrow_XdVJ";var c;function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const d=({title:e,titleId:t,...n})=>r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:12,height:7,fill:"none",viewBox:"0 0 12 7","aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,c||(c=r.createElement("path",{stroke:"#001A72",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 1 5 5 5-5"})));var u;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(null,arguments)}const p=({title:e,titleId:t,...n})=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:12,height:7,fill:"none",viewBox:"0 0 12 7","aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,u||(u=r.createElement("path",{stroke:"#F8F9FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 1 5 5 5-5"})));var g=n(8532),x=n(4164),m=n(4848);const f=({label:e,expandedLabel:t,collapsed:n,onCollapse:r,className:s})=>{const{colorMode:o}=(0,g.G)();return(0,m.jsxs)("div",{className:(0,x.A)(i,s),"data-collapsed":n,onClick:()=>r(),children:["light"===o?(0,m.jsx)(d,{className:a}):(0,m.jsx)(p,{className:a}),(0,m.jsx)("button",{type:"button",children:n?e:t})]})};var v=n(9146);function j({src:e,label:t,expandedLabel:n,lineBounds:i,collapsed:a=!0}){const[c,l]=(0,r.useState)(a),d=(0,v.A)(e);if(!i)return(0,m.jsx)(s.A,{language:"tsx",children:d});const[u,h]=i,p=d.split("\n").slice(u,h+1).join("\n");return(0,m.jsxs)("div",{className:o.container,children:[(0,m.jsx)(f,{label:t,expandedLabel:n,collapsed:c,onCollapse:()=>l(!c),className:o.collapseButton}),(0,m.jsx)(s.A,{language:"tsx",children:c?p:d})]})}},8366:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"fundamentals/gesture-detectors","title":"Gesture Detectors","description":"Gesture Detector","source":"@site/docs/fundamentals/gesture-detector.mdx","sourceDirName":"fundamentals","slug":"/fundamentals/gesture-detectors","permalink":"/react-native-gesture-handler/docs/fundamentals/gesture-detectors","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-gesture-handler/edit/main/packages/docs-gesture-handler/docs/fundamentals/gesture-detector.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"gesture-detectors","title":"Gesture Detectors","sidebar_label":"Gesture detectors","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"GestureHandlerRootView","permalink":"/react-native-gesture-handler/docs/fundamentals/root-view"},"next":{"title":"Gesture composition & interactions","permalink":"/react-native-gesture-handler/docs/fundamentals/gesture-composition"}}');var s=n(4848),o=n(8453),i=n(2800),a=n(8689);const c={id:"gesture-detectors",title:"Gesture Detectors",sidebar_label:"Gesture detectors",sidebar_position:4},l=void 0,d={},u=[{value:"Gesture Detector",id:"gesture-detector",level:2},{value:"Nesting Gesture Detectors",id:"nesting-gesture-detectors",level:4},{value:"Reusing Gestures",id:"reusing-gestures",level:4},{value:"Virtual Detectors",id:"virtual-detectors",level:2},{value:"InterceptingGestureDetector",id:"interceptinggesturedetector",level:3},{value:"VirtualGestureDetector",id:"virtualgesturedetector",level:3},{value:"Known use cases",id:"known-use-cases",level:3},{value:"SVG",id:"svg",level:4},{value:"Text",id:"text",level:4},{value:"Properties",id:"properties",level:2},{value:"gesture",id:"gesture",level:3},{value:"userSelect",id:"userselect",level:3},{value:"touchAction",id:"touchaction",level:3},{value:"enableContextMenu",id:"enablecontextmenu",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"gesture-detector",children:"Gesture Detector"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"GestureDetector"})," is a key component of ",(0,s.jsx)(t.code,{children:"react-native-gesture-handler"}),". It supports gestures created either using the hook-based API or the builder pattern. Additionally, it allows for the recognition of multiple gestures through ",(0,s.jsx)(t.a,{href:"/docs/fundamentals/gesture-composition",children:"gesture composition"}),". ",(0,s.jsx)(t.code,{children:"GestureDetector"})," interacts closely with ",(0,s.jsx)(t.a,{href:"https://docs.swmansion.com/react-native-reanimated/",children:(0,s.jsx)(t.code,{children:"Reanimated"})}),". For more details, refer to the ",(0,s.jsx)(t.a,{href:"/docs/fundamentals/reanimated-interactions",children:"Integration with Reanimated"})," section."]}),"\n",(0,s.jsxs)(t.p,{children:["When using hook API, you can also integrate it directly with the ",(0,s.jsx)(t.a,{href:"https://reactnative.dev/docs/animated",children:"Animated API"}),". More on that can be found in ",(0,s.jsx)(t.a,{href:"/docs/fundamentals/animated-interactions",children:"Integration with Animated"})," section."]}),"\n",(0,s.jsxs)(t.admonition,{type:"danger",children:[(0,s.jsx)(t.h4,{id:"nesting-gesture-detectors",children:"Nesting Gesture Detectors"}),(0,s.jsxs)(t.p,{children:["Because ",(0,s.jsx)(t.code,{children:"GestureDetector"})," supports both the hook API and the builder pattern, it is important to avoid nesting detectors that use different APIs, as this can result in undefined behavior."]}),(0,s.jsx)(t.h4,{id:"reusing-gestures",children:"Reusing Gestures"}),(0,s.jsx)(t.p,{children:"Using the same instance of a gesture across multiple Gesture Detectors may result in undefined behavior."})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"import { GestureDetector, useTapGesture } from 'react-native-gesture-handler';\n\nexport default function App() {\n  const tap = useTapGesture({\n    onDeactivate: () => {\n      console.log('Tap!');\n    },\n  });\n\n  return (\n    <GestureHandlerRootView>\n      // highlight-next-line\n      <GestureDetector gesture={tap}>\n        <Animated.View />\n        // highlight-next-line\n      </GestureDetector>\n    </GestureHandlerRootView>\n  );\n}\n"})}),"\n",(0,s.jsx)(t.h2,{id:"virtual-detectors",children:"Virtual Detectors"}),"\n",(0,s.jsxs)(t.p,{children:["Since RNGH3, ",(0,s.jsx)(t.code,{children:"GestureDetector"})," is a standalone host component. Depending on the view hierarchy, this can occasionally disrupt interactions between specific components. To resolve this, use ",(0,s.jsx)(t.code,{children:"InterceptingGestureDetector"})," in combination with ",(0,s.jsx)(t.code,{children:"VirtualNativeDetector"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"interceptinggesturedetector",children:"InterceptingGestureDetector"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"InterceptingGestureDetector"})," functions similarly to a ",(0,s.jsx)(t.code,{children:"GestureDetector"}),", but it can also act as a proxy for ",(0,s.jsx)(t.code,{children:"VirtualGestureDetector"})," within its component subtree. Because it can be used solely to establish the context for virtual detectors, the ",(0,s.jsx)(t.a,{href:"#gesture",children:(0,s.jsx)(t.code,{children:"gesture"})})," property is optional."]}),"\n",(0,s.jsx)(t.h3,{id:"virtualgesturedetector",children:"VirtualGestureDetector"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"VirtualGestureDetector"})," is similar to the ",(0,s.jsx)(t.code,{children:"GestureDetector"})," from RNGH2. Because it is not a host component, it does not interfere with the host view hierarchy. This allows you to attach gestures without disrupting functionality that depends on it."]}),"\n",(0,s.jsx)(t.h3,{id:"known-use-cases",children:"Known use cases"}),"\n",(0,s.jsx)(t.p,{children:"Here are some of the most common use cases for virtual gesture detectors."}),"\n",(0,s.jsx)(t.h4,{id:"svg",children:"SVG"}),"\n",(0,s.jsxs)(t.p,{children:["You can combine ",(0,s.jsx)(t.code,{children:"VirtualGestureDetector"})," with ",(0,s.jsx)(t.a,{href:"https://github.com/software-mansion/react-native-svg",children:(0,s.jsx)(t.code,{children:"react-native-svg"})})," to add gesture handling to individual ",(0,s.jsx)(t.code,{children:"SVG"})," elements."]}),"\n",(0,s.jsx)(i.A,{label:"Show full example",expandedLabel:"Hide full example",lineBounds:[10,39],src:"\nimport React from 'react';\nimport { StyleSheet } from 'react-native';\nimport {\nGestureHandlerRootView,\nInterceptingGestureDetector,\nuseTapGesture,\nVirtualGestureDetector,\n} from 'react-native-gesture-handler';\nimport Svg, { Circle } from 'react-native-svg';\n\nexport default function App() {\nconst outerTap = useTapGesture({\n  onDeactivate: () => {\n    console.log('Box tapped!');\n  },\n});\nconst innerTap = useTapGesture({\n  onDeactivate: () => {\n    console.log('Circle tapped!');\n  },\n});\n\nreturn (\n  <GestureHandlerRootView style={styles.container}>\n    <InterceptingGestureDetector gesture={outerTap}>\n      <Svg height=\"250\" width=\"250\" style={{ backgroundColor: '#b58df1' }}>\n        <VirtualGestureDetector gesture={innerTap}>\n          <Circle\n            cx=\"125\"\n            cy=\"125\"\n            r=\"125\"\n            fill=\"#001A72\"\n            onPress={() => {}}\n          />\n        </VirtualGestureDetector>\n      </Svg>\n    </InterceptingGestureDetector>\n  </GestureHandlerRootView>\n);\n}\n\nconst styles = StyleSheet.create({\ncontainer: {\n  flex: 1,\n  alignItems: 'center',\n  justifyContent: 'center',\n},\n});\n"}),"\n",(0,s.jsx)(t.h4,{id:"text",children:"Text"}),"\n",(0,s.jsxs)(t.p,{children:["You can use ",(0,s.jsx)(t.code,{children:"VirtualGestureDetector"})," to add gesture handling to specific parts of a ",(0,s.jsx)(t.code,{children:"Text"})," component."]}),"\n",(0,s.jsx)(i.A,{label:"Show full example",expandedLabel:"Hide full example",lineBounds:[8,37],src:"\nimport * as React from 'react';\nimport { StyleSheet, Text } from 'react-native';\nimport {\nGestureHandlerRootView,\nInterceptingGestureDetector,\nVirtualGestureDetector,\nuseTapGesture,\n} from 'react-native-gesture-handler';\n\nexport default function App() {\nconst outerTap = useTapGesture({\n  onDeactivate: () => {\n    console.log('Tapped on text!');\n  },\n});\n\nconst nestedTap = useTapGesture({\n  onDeactivate: () => {\n    console.log('Tapped on nested part!');\n  },\n});\n\nreturn (\n  <GestureHandlerRootView style={styles.container}>\n    <InterceptingGestureDetector gesture={outerTap}>\n      <Text style={{ fontSize: 18, textAlign: 'center' }}>\n        Nested text\n        <VirtualGestureDetector gesture={nestedTap}>\n          <Text style={{ fontSize: 24, color: '#001A72' }}>\n            try tapping on this part.\n          </Text>\n        </VirtualGestureDetector>\n        This part is not special :c\n      </Text>\n    </InterceptingGestureDetector>\n  </GestureHandlerRootView>\n);\n}\n\nconst styles = StyleSheet.create({\ncontainer: {\n  flex: 1,\n  alignItems: 'center',\n  justifyContent: 'space-around',\n},\n});\n"}),"\n",(0,s.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(t.h3,{id:"gesture",children:"gesture"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"gesture: SingleGesture | ComposedGesture;\n"})}),"\n",(0,s.jsxs)(t.p,{children:["A gesture object containing the configuration and callbacks. Can be any of the base gestures or any ",(0,s.jsx)(t.a,{href:"/docs/fundamentals/gesture-composition",children:(0,s.jsx)(t.code,{children:"ComposedGesture"})}),"."]}),"\n",(0,s.jsx)(a.A,{platforms:["web"],children:(0,s.jsx)(t.h3,{id:"userselect",children:"userSelect"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"userSelect: 'none' | 'auto' | 'text';\n"})}),"\n",(0,s.jsxs)(t.p,{children:["This parameter allows to specify which ",(0,s.jsx)(t.code,{children:"userSelect"})," property should be applied to underlying view. Default value is set to ",(0,s.jsx)(t.code,{children:'"none"'}),"."]}),"\n",(0,s.jsx)(a.A,{platforms:["web"],children:(0,s.jsx)(t.h3,{id:"touchaction",children:"touchAction"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"touchAction: TouchAction;\n"})}),"\n",(0,s.jsxs)(t.p,{children:["This parameter allows to specify which ",(0,s.jsx)(t.code,{children:"touchAction"})," property should be applied to underlying view. Supports all CSS ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Properties/touch-action",children:"touch-action"})," values. Default value is set to ",(0,s.jsx)(t.code,{children:'"none"'}),"."]}),"\n",(0,s.jsx)(a.A,{platforms:["web"],children:(0,s.jsx)(t.h3,{id:"enablecontextmenu",children:"enableContextMenu"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"enableContextMenu: boolean;\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Specifies whether context menu should be enabled after clicking on underlying view with right mouse button. Default value is set to ",(0,s.jsx)(t.code,{children:"false"}),"."]})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8689:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(1691),s=n(4848);const o={android:"Android",ios:"iOS",web:"Web"};function i({platform:e}){let t;switch(e){case"android":t=c.androidBadge;break;case"ios":t=c.iosBadge;break;case"web":t=c.webBadge;break;default:t={}}return(0,s.jsx)("div",{style:{...c.badge,...t},children:o[e]})}function a({platforms:e,children:t}){return(0,s.jsxs)("div",{style:c.container,children:[t,e.map((e=>e.toLowerCase())).sort().map((e=>(0,s.jsx)(i,{platform:e},e)))]})}const c=r.A.create({container:{display:"flex",flexDirection:"row",gap:10,marginBottom:20},badge:{borderRadius:10,paddingTop:2,paddingBottom:2,paddingLeft:10,paddingRight:10,color:"white",display:"flex",alignItems:"center",justifyContent:"space-around"},androidBadge:{backgroundColor:"#34a853"},iosBadge:{backgroundColor:"#000000"},webBadge:{backgroundColor:"#1067c4"}})},9146:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(6540),s=n(8463),o=n(2396),i=n(6745);const a={parser:"typescript",plugins:[o.A,i.Ay]};function c(e){const[t,n]=(0,r.useState)(e);return(0,r.useEffect)((()=>{!async function(){try{const t=await s.GP(e,a);n(t)}catch{n(e)}}()}),[e]),t}}}]);