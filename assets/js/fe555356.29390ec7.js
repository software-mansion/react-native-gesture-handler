"use strict";(self.webpackChunkreact_native_gesture_handler_docs=self.webpackChunkreact_native_gesture_handler_docs||[]).push([[9083],{353:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"fundamentals/installation","title":"Installation","description":"Requirements","source":"@site/versioned_docs/version-2.x/fundamentals/installation.md","sourceDirName":"fundamentals","slug":"/fundamentals/installation","permalink":"/react-native-gesture-handler/docs/2.x/fundamentals/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-gesture-handler/edit/main/packages/docs-gesture-handler/versioned_docs/version-2.x/fundamentals/installation.md","tags":[],"version":"2.x","sidebarPosition":2,"frontMatter":{"id":"installation","title":"Installation","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/react-native-gesture-handler/docs/2.x/"},"next":{"title":"Gesture composition & interactions","permalink":"/react-native-gesture-handler/docs/2.x/fundamentals/gesture-composition"}}');var a=t(4848),i=t(8453),s=t(5537),o=t(9329);const l={id:"installation",title:"Installation",sidebar_position:2},d=void 0,c={},u=[{value:"Requirements",id:"requirements",level:2},{value:"1. Start with installing the package from npm:",id:"1-start-with-installing-the-package-from-npm",level:3},{value:"2. Wrap your app with <code>GestureHandlerRootView</code> component",id:"2-wrap-your-app-with-gesturehandlerrootview-component",level:3},{value:"3. Platform specific setup",id:"3-platform-specific-setup",level:3},{value:"Expo development build",id:"expo-development-build",level:4},{value:"Android",id:"android",level:4},{value:"Kotlin",id:"kotlin",level:5},{value:"iOS",id:"ios",level:4},{value:"Web",id:"web",level:4},{value:"With wix/react-native-navigation",id:"with-wixreact-native-navigation",level:4}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"react-native-gesture-handler"})," supports the three latest minor releases of ",(0,a.jsx)(n.code,{children:"react-native"}),"."]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"version"}),(0,a.jsxs)(n.th,{children:[(0,a.jsx)(n.code,{children:"react-native"})," version"]})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.28.0+"}),(0,a.jsx)(n.td,{children:"0.79.0+"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.26.0+"}),(0,a.jsx)(n.td,{children:"0.78.0+"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.25.0+"}),(0,a.jsx)(n.td,{children:"0.76.0+"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.24.0+"}),(0,a.jsx)(n.td,{children:"0.75.0+"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.21.0+"}),(0,a.jsx)(n.td,{children:"0.74.0+"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.18.0+"}),(0,a.jsx)(n.td,{children:"0.73.0+"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.16.0+"}),(0,a.jsx)(n.td,{children:"0.68.0+"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.14.0+"}),(0,a.jsx)(n.td,{children:"0.67.0+"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.10.0+"}),(0,a.jsx)(n.td,{children:"0.64.0+"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2.0.0+"}),(0,a.jsx)(n.td,{children:"0.63.0+"})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["In order to fully utilize the ",(0,a.jsx)(n.a,{href:"/docs/2.x/gestures/touch-events/",children:"touch events"})," you also need to use ",(0,a.jsx)(n.code,{children:"react-native-reanimated"})," 2.3.0 or newer."]}),"\n",(0,a.jsxs)(n.p,{children:["Setting up ",(0,a.jsx)(n.code,{children:"react-native-gesture-handler"})," is pretty straightforward:"]}),"\n",(0,a.jsx)(n.h3,{id:"1-start-with-installing-the-package-from-npm",children:"1. Start with installing the package from npm:"}),"\n",(0,a.jsxs)(s.A,{groupId:"package-managers",children:[(0,a.jsx)(o.A,{value:"expo",label:"EXPO",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npx expo install react-native-gesture-handler\n"})})}),(0,a.jsx)(o.A,{value:"npm",label:"NPM",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install react-native-gesture-handler\n"})})}),(0,a.jsx)(o.A,{value:"yarn",label:"YARN",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"yarn add react-native-gesture-handler\n"})})})]}),"\n",(0,a.jsxs)(n.h3,{id:"2-wrap-your-app-with-gesturehandlerrootview-component",children:["2. Wrap your app with ",(0,a.jsx)(n.code,{children:"GestureHandlerRootView"})," component"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"import { GestureHandlerRootView } from 'react-native-gesture-handler';\n\nexport default function App() {\n  return (\n    <GestureHandlerRootView>\n      <ActualApp />\n    </GestureHandlerRootView>\n  );\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["If you don't provide anything to the ",(0,a.jsx)(n.code,{children:"styles"})," prop, it will default to ",(0,a.jsx)(n.code,{children:"flex: 1"}),". If you want to customize the styling of the root view, don't forget to also include ",(0,a.jsx)(n.code,{children:"flex: 1"})," in the custom style, otherwise your app won't render anything. Keep ",(0,a.jsx)(n.code,{children:"GestureHandlerRootView"})," as close to the actual root of the app as possible. It's the entry point for all gestures and all gesture relations. The gestures won't be recognized outside of the root view, and relations only work between gestures mounted under the same root view."]}),"\n",(0,a.jsxs)(n.p,{children:["If you're unsure if one of your dependencies already renders ",(0,a.jsx)(n.code,{children:"GestureHandlerRootView"})," on its own, don't worry and add one at the root anyway. In case of nested root views, Gesture Handler will only use the top-most one and ignore the nested ones."]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["If you're using gesture handler in your component library, you may want to wrap your library's code in the ",(0,a.jsx)(n.code,{children:"GestureHandlerRootView"})," component. This will avoid extra configuration for the user."]})}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["If you're having trouble with gestures not working when inside a component provided by a third-party library, even though you've wrapped the entry point with ",(0,a.jsx)(n.code,{children:"<GestureHandlerRootView>"}),", you can try adding another ",(0,a.jsx)(n.code,{children:"<GestureHandlerRootView unstable_forceActive>"})," closer to the place the gestures are defined. This way, you can prevent Android from canceling relevant gestures when one of the native views tries to grab lock for delivering touch events."]})}),"\n",(0,a.jsx)(n.h3,{id:"3-platform-specific-setup",children:"3. Platform specific setup"}),"\n",(0,a.jsx)(n.h4,{id:"expo-development-build",children:(0,a.jsx)(n.a,{href:"https://docs.expo.dev/develop/development-builds/introduction/",children:"Expo development build"})}),"\n",(0,a.jsx)(n.p,{children:"When using an Expo development build, run prebuild to update the native code in the ios and android directories."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npx expo prebuild\n"})}),"\n",(0,a.jsx)(n.h4,{id:"android",children:"Android"}),"\n",(0,a.jsxs)(n.p,{children:["Setting up Gesture Handler on Android doesn't require any more steps. Keep in mind that if you want to use gestures in Modals you need to wrap Modal's content with ",(0,a.jsx)(n.code,{children:"GestureHandlerRootView"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"import { Modal } from 'react-native';\nimport { GestureHandlerRootView } from 'react-native-gesture-handler';\n\nexport function CustomModal({ children, ...rest }) {\n  return (\n    <Modal {...rest}>\n      <GestureHandlerRootView>{children}</GestureHandlerRootView>\n    </Modal>\n  );\n}\n"})}),"\n",(0,a.jsx)(n.h5,{id:"kotlin",children:"Kotlin"}),"\n",(0,a.jsxs)(n.p,{children:["Gesture Handler on Android is implemented in Kotlin. If you need to set a specific Kotlin version to be used by the library, set the ",(0,a.jsx)(n.code,{children:"kotlinVersion"})," ext property in ",(0,a.jsx)(n.code,{children:"android/build.gradle"})," file and RNGH will use that version:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-groovy",children:'buildscript {\n    ext {\n        kotlinVersion = "1.6.21"\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"ios",children:"iOS"}),"\n",(0,a.jsxs)(n.p,{children:["While developing for iOS, make sure to install ",(0,a.jsx)(n.a,{href:"https://cocoapods.org/",children:"pods"})," first before running the app:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ios && pod install && cd ..\n"})}),"\n",(0,a.jsx)(n.h4,{id:"web",children:"Web"}),"\n",(0,a.jsx)(n.p,{children:"There is no additional configuration required for the web."}),"\n",(0,a.jsxs)(n.h4,{id:"with-wixreact-native-navigation",children:["With ",(0,a.jsx)(n.a,{href:"https://github.com/wix/react-native-navigation",children:"wix/react-native-navigation"})]}),"\n",(0,a.jsxs)(n.p,{children:["If you are using a native navigation library like ",(0,a.jsx)(n.a,{href:"https://github.com/wix/react-native-navigation",children:"wix/react-native-navigation"})," you need to make sure that every screen is wrapped with ",(0,a.jsx)(n.code,{children:"GestureHandlerRootView"}),". This can be done for example at the stage when you register your screens. Here's an example:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"import { Navigation } from 'react-native-navigation';\nimport FirstTabScreen from './FirstTabScreen';\nimport SecondTabScreen from './SecondTabScreen';\nimport PushedScreen from './PushedScreen';\n// register all screens of the app (including internal ones)\nexport function registerScreens() {\n  Navigation.registerComponent(\n    'example.FirstTabScreen',\n    () => {\n      return (\n        <GestureHandlerRootView>\n          <FirstTabScreen />\n        </GestureHandlerRootView>\n      );\n    },\n    () => FirstTabScreen\n  );\n  Navigation.registerComponent(\n    'example.SecondTabScreen',\n    () => {\n      return (\n        <GestureHandlerRootView>\n          <SecondTabScreen />\n        </GestureHandlerRootView>\n      );\n    },\n    () => SecondTabScreen\n  );\n  Navigation.registerComponent(\n    'example.PushedScreen',\n    () => {\n      return (\n        <GestureHandlerRootView>\n          <PushedScreen />\n        </GestureHandlerRootView>\n      );\n    },\n    () => PushedScreen\n  );\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["You can check out ",(0,a.jsx)(n.a,{href:"https://github.com/henrikra/nativeNavigationGestureHandler",children:"this example project"})," to see this kind of set up in action."]}),"\n",(0,a.jsxs)(n.p,{children:["Remember that you need to wrap each screen that you use in your app with ",(0,a.jsx)(n.code,{children:"GestureHandlerRootView"})," as with native navigation libraries each screen maps to a separate root view. It will not be enough to wrap the main screen only."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},5537:(e,n,t)=>{t.d(n,{A:()=>y});var r=t(6540),a=t(4164),i=t(5627),s=t(6347),o=t(372),l=t(604),d=t(1861),c=t(8749);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return u(e).map((({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r})))}(t);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p({value:e,tabValues:n}){return n.some((n=>n.value===e))}function x({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(a),(0,r.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})}),[a,t])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,i=h(e),[s,l]=(0,r.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:i}))),[d,u]=x({queryString:t,groupId:a}),[m,v]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,a]=(0,c.Dv)(n);return[t,(0,r.useCallback)((e=>{n&&a.set(e)}),[n,a])]}({groupId:a}),f=(()=>{const e=d??m;return p({value:e,tabValues:i})?e:null})();(0,o.A)((()=>{f&&l(f)}),[f]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),v(e)}),[u,v,i]),tabValues:i}}var v=t(9136);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(4848);function b({className:e,block:n,selectedValue:t,selectValue:r,tabValues:s}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),d=e=>{const n=e.currentTarget,a=o.indexOf(n),i=s[a].value;i!==t&&(l(n),r(i))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:s.map((({value:e,label:n,attributes:r})=>(0,g.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{o.push(e)},onKeyDown:c,onClick:d,...r,className:(0,a.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":t===e}),children:n??e},e)))})}function j({lazy:e,children:n,selectedValue:t}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===t));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function w(e){const n=m(e);return(0,g.jsxs)("div",{className:(0,a.A)("tabs-container",f.tabList),children:[(0,g.jsx)(b,{...n,...e}),(0,g.jsx)(j,{...n,...e})]})}function y(e){const n=(0,v.A)();return(0,g.jsx)(w,{...e,children:u(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var r=t(6540);const a={},i=r.createContext(a);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(i.Provider,{value:n},e.children)}},9329:(e,n,t)=>{t.d(n,{A:()=>s});t(6540);var r=t(4164);const a={tabItem:"tabItem_Ymn6"};var i=t(4848);function s({children:e,hidden:n,className:t}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,t),hidden:n,children:e})}}}]);