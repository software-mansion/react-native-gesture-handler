<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.63">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-41044622-6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Getting Started | React Native Gesture Handler</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Getting Started | React Native Gesture Handler"><meta data-react-helmet="true" name="description" content="Gesture Handler aims to replace React Native&#x27;s built in touch system called Gesture Responder System."><meta data-react-helmet="true" property="og:description" content="Gesture Handler aims to replace React Native&#x27;s built in touch system called Gesture Responder System."><meta data-react-helmet="true" property="og:url" content="https://docs.swmansion.com/react-native-gesture-handler/docs/"><link data-react-helmet="true" rel="shortcut icon" href="/react-native-gesture-handler/img/SWM_Fav_192x192.png"><link data-react-helmet="true" rel="canonical" href="https://docs.swmansion.com/react-native-gesture-handler/docs/"><link rel="stylesheet" href="/react-native-gesture-handler/styles.e328f927.css">
<link rel="preload" href="/react-native-gesture-handler/styles.3c5712ac.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/runtime~main.8282c359.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/main.df0abef5.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/1.faa66d3c.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/2.d870fb35.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/1be78505.8679c667.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/31.445ae06a.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/935f2afb.35c00acf.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/17896441.02f2473c.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/d589d3a7.0a28bcbb.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/react-native-gesture-handler/"><strong class="navbar__title">React Native Gesture Handler</strong></a></div><div class="navbar__items navbar__items--right"><div class="githubStarLink"><span><a href="https://github.com/software-mansion/react-native-gesture-handler" data-icon="octicon-star" data-show-count="true" aria-label="Star software-mansion/react-native-gesture-handler on GitHub">Star</a></span></div><a href="https://github.com/software-mansion/react-native-gesture-handler" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/react-native-gesture-handler/"><strong class="navbar__title">React Native Gesture Handler</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/software-mansion/react-native-gesture-handler" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_25T_"><div class="menu menu--responsive menu_1e9D"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button shadow--tl" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1hKf" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Basics</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/react-native-gesture-handler/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-gesture-handler/docs/about-handlers">About Gesture Handlers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-gesture-handler/docs/state">Handler State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-gesture-handler/docs/interactions">Cross handler interactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-gesture-handler/docs/example">Running Example App</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Handlers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-common">BaseGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-pan">PanGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-tap">TapGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-longpress">LongPressGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-rotation">RotationGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-fling">FlingGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-pinch">PinchGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-force">ForceTouchGestureHandler</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/component-buttons">Buttons</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/component-swipeable">Swipeable</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/component-touchables">Touchables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/component-drawer-layout">DrawerLayout</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/troubleshooting">Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/resources">Learning Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/credits">Credits</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col"><div class="docItemContainer_1tAC"><article><header><h1 class="docTitle_cWlf">Getting Started</h1></header><div class="markdown"><p>Gesture Handler aims to replace React Native&#x27;s built in touch system called <a href="http://facebook.github.io/react-native/docs/gesture-responder-system.html" target="_blank" rel="noopener noreferrer">Gesture Responder System</a>.</p><p>The motivation for building this library was to address the performance limitations of React Native&#x27;s Gesture Responder System and to provide more control over the built-in native components that can handle gestures.
We recommend <a href="https://www.youtube.com/watch?v=V8maYc4R2G0" target="_blank" rel="noopener noreferrer">this talk</a> by <a href="https://twitter.com/kzzzf" target="_blank" rel="noopener noreferrer">Krzysztof Magiera</a> in which he explains issues with the responder system.</p><p>In a nutshell, the library provides:</p><ul><li>A way to use a platform&#x27;s native touch handling system for recognizing pinch, rotation and pan (besides a few other gestures).</li><li>The ability to define relations between gesture handlers, e.g. when you have a pan handler in <code>ScrollView</code> you can make that <code>ScrollView</code> wait until it knows pan won&#x27;t recognize.</li><li>Mechanisms to use touchables that run in native thread and follow platform default behavior; e.g. in the event they are in a scrollable component, turning into pressed state is slightly delayed to prevent it from highlighting when you fling.</li><li>The possibility to implement smooth gesture interactions thanks to Animated Native Driver — interactions will be responsive even when the JS thread is overloaded.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="installation"></a>Installation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#installation" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="managed-expo"></a>Managed <a href="https://expo.io" target="_blank" rel="noopener noreferrer">Expo</a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#managed-expo" title="Direct link to heading">#</a></h3><p>To use the version of react-native-gesture-handler that is compatible with your managed Expo project, run <code>expo install react-native-gesture-handler</code>.</p><p>The Expo SDK incorporates the latest version of react-native-gesture-handler available at the time of each SDK release, so managed Expo apps might not always support all our latest features as soon as they are available.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="bare-react-native"></a>Bare <a href="http://facebook.github.io/react-native/" target="_blank" rel="noopener noreferrer">React Native</a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bare-react-native" title="Direct link to heading">#</a></h3><p>Since the library uses native support for handling gestures, it requires an extended installation to the norm. If you are starting a new project, you may want to initialize it with <a href="https://docs.expo.io/versions/latest/workflow/expo-cli/" target="_blank" rel="noopener noreferrer">expo-cli</a> and use a bare template, they come pre-installed with react-native-gesture-handler.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="requirements"></a>Requirements<a aria-hidden="true" tabindex="-1" class="hash-link" href="#requirements" title="Direct link to heading">#</a></h4><table><thead><tr><th>version</th><th><code>react-native</code> version</th></tr></thead><tbody><tr><td>1.4.0+</td><td>0.60.0+</td></tr><tr><td>1.1.0+</td><td>0.57.2+</td></tr><tr><td>&lt;1.1.0</td><td>0.50.0+</td></tr></tbody></table><p>Note that if you wish to use <a href="https://reactjs.org/docs/refs-and-the-dom.html" target="_blank" rel="noopener noreferrer"><code>React.createRef()</code></a> support for <a href="/react-native-gesture-handler/docs/interactions">interactions</a> you need to use v16.3 of <a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer">React</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="js"></a>JS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#js" title="Direct link to heading">#</a></h4><p>First, install the library using <code>yarn</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token function" style="color:#a3b8ff">yarn</span><span class="token plain"> </span><span class="token function" style="color:#a3b8ff">add</span><span class="token plain"> react-native-gesture-handler</span></div></div></div></div></div><p>or with <code>npm</code> if you prefer:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token function" style="color:#a3b8ff">npm</span><span class="token plain"> </span><span class="token function" style="color:#a3b8ff">install</span><span class="token plain"> --save react-native-gesture-handler</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="linking"></a>Linking<a aria-hidden="true" tabindex="-1" class="hash-link" href="#linking" title="Direct link to heading">#</a></h4><blockquote><p><strong>Important</strong>: You only need to do this step if you&#x27;re using React Native 0.59 or lower. Since v0.60, linking happens automatically.</p></blockquote><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token plain">react-native </span><span class="token function" style="color:#a3b8ff">link</span><span class="token plain"> react-native-gesture-handler</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="android"></a>Android<a aria-hidden="true" tabindex="-1" class="hash-link" href="#android" title="Direct link to heading">#</a></h4><p>Follow the steps below:</p><p>If you use one of the <em>native navigation libraries</em> (e.g. <a href="https://github.com/wix/react-native-navigation" target="_blank" rel="noopener noreferrer">wix/react-native-navigation</a>), you should follow <a href="#with-wixreact-native-navigation">this separate guide</a> to get gesture handler library set up on Android. Ignore the rest of this step – it only applies to RN apps that use a standard Android project layout.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="updating-mainactivityjava"></a>Updating <code>MainActivity.java</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#updating-mainactivityjava" title="Direct link to heading">#</a></h5><p>Update your <code>MainActivity.java</code> file (or wherever you create an instance of <code>ReactActivityDelegate</code>), so that it overrides the method responsible for creating <code>ReactRootView</code> instance and then use the root view wrapper provided by this library. Do not forget to import <code>ReactActivityDelegate</code>, <code>ReactRootView</code>, and <code>RNGestureHandlerEnabledRootView</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-diff codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token plain">package com.swmansion.gesturehandler.react.example;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">import com.facebook.react.ReactActivity;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token inserted-sign inserted">+ import com.facebook.react.ReactActivityDelegate;</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+ import com.facebook.react.ReactRootView;</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+ import com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted"></span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">public class MainActivity extends ReactActivity {</span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token unchanged">  @Override</span></div><div class="token-line" style="color:#ffffff"><span class="token unchanged">  protected String getMainComponentName() {</span></div><div class="token-line" style="color:#ffffff"><span class="token unchanged">    return &quot;Example&quot;;</span></div><div class="token-line" style="color:#ffffff"><span class="token unchanged">  }</span></div><div class="token-line" style="color:#ffffff"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token inserted-sign inserted">+  @Override</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+  protected ReactActivityDelegate createReactActivityDelegate() {</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+    return new ReactActivityDelegate(this, getMainComponentName()) {</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+      @Override</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+      protected ReactRootView createRootView() {</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+       return new RNGestureHandlerEnabledRootView(MainActivity.this);</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+      }</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+    };</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted">+  }</span></div><div class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted"></span><span class="token plain">}</span></div></div></div></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="running-jetifier"></a>Running jetifier<a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-jetifier" title="Direct link to heading">#</a></h5><blockquote><p><strong>Important:</strong> You only need to do this step if you&#x27;re on React Native 0.60 or greater.</p></blockquote><p>React Native 0.60 migrated from Support Library to AndroidX. React Native Gesture Handler is not yet compatible with AndroidX.</p><p>Make sure to <a href="https://github.com/react-native-community/cli/tree/master#updating-the-cli" target="_blank" rel="noopener noreferrer">update the React Native CLI to the latest version</a> which runs <a href="https://www.npmjs.com/package/jetifier" target="_blank" rel="noopener noreferrer"><code>jetifier</code></a> – the AndroidX migration tool – during the <code>run-android</code> command.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ios"></a>iOS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ios" title="Direct link to heading">#</a></h4><p>There is no additional configuration required on iOS except what follows in the next steps.</p><p>If you&#x27;re in a CocoaPods project (the default setup since React Native 0.60),
make sure to install pods before you run your app:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token plain">cd ios &amp;&amp; pod install</span></div></div></div></div></div><p>For React Native 0.61 or greater, add the library as the first import in your index.js file:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token plain">import &#x27;react-native-gesture-handler&#x27;;</span></div></div></div></div></div><p>Now you&#x27;re all set. Run your app with <code>react-native run-android</code> or <code>react-native run-ios</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="with-wixreact-native-navigation"></a>With <a href="https://github.com/wix/react-native-navigation" target="_blank" rel="noopener noreferrer">wix/react-native-navigation</a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#with-wixreact-native-navigation" title="Direct link to heading">#</a></h3><p>If you are using a native navigation library like <a href="https://github.com/wix/react-native-navigation" target="_blank" rel="noopener noreferrer">wix/react-native-navigation</a> you need to follow a different setup for your Android app to work properly. The reason is that both native navigation libraries and Gesture Handler library need to use their own special subclasses of <code>ReactRootView</code>.</p><p>Instead of changing Java code you will need to wrap every screen component using <code>gestureHandlerRootHOC</code> on the JS side. This can be done for example at the stage when you register your screens. Here&#x27;s an example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token keyword module" style="color:#8ed3ef">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">{</span><span class="token plain"> gestureHandlerRootHOC </span><span class="token punctuation" style="color:#ffee86">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#8ed3ef">from</span><span class="token plain"> </span><span class="token string" style="color:#ffffff">&#x27;react-native-gesture-handler&#x27;</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword module" style="color:#8ed3ef">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">{</span><span class="token plain"> </span><span class="token maybe-class-name">Navigation</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#8ed3ef">from</span><span class="token plain"> </span><span class="token string" style="color:#ffffff">&#x27;react-native-navigation&#x27;</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword module" style="color:#8ed3ef">import</span><span class="token plain"> </span><span class="token maybe-class-name">FirstTabScreen</span><span class="token plain"> </span><span class="token keyword module" style="color:#8ed3ef">from</span><span class="token plain"> </span><span class="token string" style="color:#ffffff">&#x27;./FirstTabScreen&#x27;</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword module" style="color:#8ed3ef">import</span><span class="token plain"> </span><span class="token maybe-class-name">SecondTabScreen</span><span class="token plain"> </span><span class="token keyword module" style="color:#8ed3ef">from</span><span class="token plain"> </span><span class="token string" style="color:#ffffff">&#x27;./SecondTabScreen&#x27;</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword module" style="color:#8ed3ef">import</span><span class="token plain"> </span><span class="token maybe-class-name">PushedScreen</span><span class="token plain"> </span><span class="token keyword module" style="color:#8ed3ef">from</span><span class="token plain"> </span><span class="token string" style="color:#ffffff">&#x27;./PushedScreen&#x27;</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#aaaaaa;font-style:italic">// register all screens of the app (including internal ones)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword module" style="color:#8ed3ef">export</span><span class="token plain"> </span><span class="token keyword" style="color:#8ed3ef">function</span><span class="token plain"> </span><span class="token function" style="color:#a3b8ff">registerScreens</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">Navigation</span><span class="token punctuation" style="color:#ffee86">.</span><span class="token method function property-access" style="color:#a3b8ff">registerComponent</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token string" style="color:#ffffff">&#x27;example.FirstTabScreen&#x27;</span><span class="token punctuation" style="color:#ffee86">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">(</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#ffaaa8">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token function" style="color:#a3b8ff">gestureHandlerRootHOC</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token maybe-class-name">FirstTabScreen</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#ffee86">)</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">Navigation</span><span class="token punctuation" style="color:#ffee86">.</span><span class="token method function property-access" style="color:#a3b8ff">registerComponent</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token string" style="color:#ffffff">&#x27;example.SecondTabScreen&#x27;</span><span class="token punctuation" style="color:#ffee86">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">(</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#ffaaa8">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token function" style="color:#a3b8ff">gestureHandlerRootHOC</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token maybe-class-name">SecondTabScreen</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#ffee86">)</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">Navigation</span><span class="token punctuation" style="color:#ffee86">.</span><span class="token method function property-access" style="color:#a3b8ff">registerComponent</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token string" style="color:#ffffff">&#x27;example.PushedScreen&#x27;</span><span class="token punctuation" style="color:#ffee86">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">(</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#ffaaa8">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token function" style="color:#a3b8ff">gestureHandlerRootHOC</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token maybe-class-name">PushedScreen</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#ffee86">)</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#ffee86">}</span></div></div></div></div></div><p>You can check out <a href="https://github.com/henrikra/nativeNavigationGestureHandler" target="_blank" rel="noopener noreferrer">this example project</a> to see this kind of set up in action.</p><p>Remember that you need to wrap each screen that you use in your app with <code>gestureHandlerRootHOC</code> as with native navigation libraries each screen maps to a separate root view. It will not be enough to wrap the main screen only.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="usage-with-modals-on-android"></a>Usage with modals on Android<a aria-hidden="true" tabindex="-1" class="hash-link" href="#usage-with-modals-on-android" title="Direct link to heading">#</a></h3><p>On Android RNGH does not work by default because modals are not located under React Native Root view in native hierarchy.
In order to make it workable, components need to be wrapped with <code>gestureHandlerRootHOC</code> (it&#x27;s no-op on iOS and web).</p><p>E.g.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#8ed3ef">const</span><span class="token plain"> </span><span class="token maybe-class-name">ExampleWithHoc</span><span class="token plain"> </span><span class="token operator" style="color:#ffaaa8">=</span><span class="token plain"> </span><span class="token function" style="color:#a3b8ff">gestureHandlerRootHOC</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token keyword" style="color:#8ed3ef">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#a3b8ff">GestureExample</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#8ed3ef">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#ffaaa8">&lt;</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#ffaaa8">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token operator" style="color:#ffaaa8">&lt;</span><span class="token maybe-class-name">DraggableBox</span><span class="token plain"> </span><span class="token operator" style="color:#ffaaa8">/</span><span class="token operator" style="color:#ffaaa8">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#ffaaa8">&lt;</span><span class="token operator" style="color:#ffaaa8">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#ffaaa8">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#ffee86">)</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#ffee86">}</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword module" style="color:#8ed3ef">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#8ed3ef">default</span><span class="token plain"> </span><span class="token keyword" style="color:#8ed3ef">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#a3b8ff">Example</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#8ed3ef">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#ffaaa8">&lt;</span><span class="token maybe-class-name">Modal</span><span class="token plain"> animationType</span><span class="token operator" style="color:#ffaaa8">=</span><span class="token string" style="color:#ffffff">&quot;slide&quot;</span><span class="token plain"> transparent</span><span class="token operator" style="color:#ffaaa8">=</span><span class="token punctuation" style="color:#ffee86">{</span><span class="token boolean">false</span><span class="token punctuation" style="color:#ffee86">}</span><span class="token operator" style="color:#ffaaa8">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token operator" style="color:#ffaaa8">&lt;</span><span class="token maybe-class-name">ExampleWithHoc</span><span class="token plain"> </span><span class="token operator" style="color:#ffaaa8">/</span><span class="token operator" style="color:#ffaaa8">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#ffaaa8">&lt;</span><span class="token operator" style="color:#ffaaa8">/</span><span class="token maybe-class-name">Modal</span><span class="token operator" style="color:#ffaaa8">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#ffee86">)</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#ffee86">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="for-library-authors"></a>For library authors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#for-library-authors" title="Direct link to heading">#</a></h3><p>If you&#x27;re using gesture handler in your component library, you may want to wrap your library&#x27;s code in the <code>GestureHandlerRootView</code> component. This will avoid extra configuration in <code>MainActivity.java</code> for the user.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token keyword module" style="color:#8ed3ef">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">{</span><span class="token plain"> </span><span class="token maybe-class-name">GestureHandlerRootView</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#8ed3ef">from</span><span class="token plain"> </span><span class="token string" style="color:#ffffff">&#x27;react-native-gesture-handler&#x27;</span><span class="token punctuation" style="color:#ffee86">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword module" style="color:#8ed3ef">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#8ed3ef">default</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#a3b8ff">MyComponent</span><span class="token punctuation" style="color:#ffee86">(</span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#8ed3ef">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#ffaaa8">&lt;</span><span class="token maybe-class-name">GestureHandlerRootView</span><span class="token operator" style="color:#ffaaa8">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#ffee86">{</span><span class="token comment" style="color:#aaaaaa;font-style:italic">/* content */</span><span class="token punctuation" style="color:#ffee86">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#ffaaa8">&lt;</span><span class="token operator" style="color:#ffaaa8">/</span><span class="token maybe-class-name">GestureHandlerRootView</span><span class="token operator" style="color:#ffaaa8">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#ffee86">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#ffee86">}</span></div></div></div></div></div><p>If you use props such as <code>shouldCancelWhenOutside</code>, <code>simultaneousHandlers</code>, <code>waitFor</code> etc. with gesture handlers, the handlers need to be mounted under a single <code>GestureHandlerRootView</code>. So it&#x27;s important to keep the <code>GestureHandlerRootView</code> as close to the actual root view as possible.</p><p>Note that <code>GestureHandlerRootView</code> acts like a normal <code>View</code>. So if you want it to fill the screen, you will need to pass <code>{ flex: 1 }</code> like you&#x27;ll need to do with a normal <code>View</code>. By default, it&#x27;ll take the size of the content nested inside.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="testing"></a>Testing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#testing" title="Direct link to heading">#</a></h3><p>In order to load mocks provided by the library add following to your jest config in <code>package.json</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token property">&quot;setupFiles&quot;</span><span class="token operator" style="color:#ffaaa8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">[</span><span class="token string" style="color:#ffffff">&quot;./node_modules/react-native-gesture-handler/jestSetup.js&quot;</span><span class="token punctuation" style="color:#ffee86">]</span></div></div></div></div></div><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token property">&quot;jest&quot;</span><span class="token operator" style="color:#ffaaa8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property">&quot;preset&quot;</span><span class="token operator" style="color:#ffaaa8">:</span><span class="token plain"> </span><span class="token string" style="color:#ffffff">&quot;react-native&quot;</span><span class="token punctuation" style="color:#ffee86">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property">&quot;setupFiles&quot;</span><span class="token operator" style="color:#ffaaa8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#ffee86">[</span><span class="token string" style="color:#ffffff">&quot;./node_modules/react-native-gesture-handler/jestSetup.js&quot;</span><span class="token punctuation" style="color:#ffee86">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#ffee86">}</span></div></div></div></div></div></div></article></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="footer-container"><a href="https://www.swmansion.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand footer-image-link"><img class="navbar__logo" src="/react-native-gesture-handler/img/swmLogo.svg" alt="Software Mansion logo"></a><div class="githubStarLink"><span><a href="https://github.com/software-mansion/react-native-gesture-handler" data-icon="octicon-star" data-show-count="true" aria-label="Star software-mansion/react-native-gesture-handler on GitHub">Star</a></span></div></div></footer></div>
<script src="/react-native-gesture-handler/styles.3c5712ac.js"></script>
<script src="/react-native-gesture-handler/runtime~main.8282c359.js"></script>
<script src="/react-native-gesture-handler/main.df0abef5.js"></script>
<script src="/react-native-gesture-handler/1.faa66d3c.js"></script>
<script src="/react-native-gesture-handler/2.d870fb35.js"></script>
<script src="/react-native-gesture-handler/1be78505.8679c667.js"></script>
<script src="/react-native-gesture-handler/31.445ae06a.js"></script>
<script src="/react-native-gesture-handler/935f2afb.35c00acf.js"></script>
<script src="/react-native-gesture-handler/17896441.02f2473c.js"></script>
<script src="/react-native-gesture-handler/d589d3a7.0a28bcbb.js"></script>
</body>
</html>