---
id: installation
title: Installation
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

import { GestureHandlerCompatibility } from '../../components/Compatibility';

## Requirements

### Compatibility with React Native versions

`react-native-gesture-handler` supports the three latest minor releases of `react-native`.

<GestureHandlerCompatibility spacerAfterIndex={1} />

### Running gestures on the UI thread

In order to run gestures on the UI thread, you also have to install [`react-native-reanimated`](https://docs.swmansion.com/react-native-reanimated/) along with [`react-native-worklets`](https://docs.swmansion.com/react-native-worklets/).

## Setup

Setting up `react-native-gesture-handler` is pretty straightforward:

### 1. Start with installing the package from npm:

<Tabs groupId="package-managers">
  <TabItem value="expo" label="EXPO" default>
    ```bash
    npx expo install react-native-gesture-handler
    ```
  </TabItem>
  <TabItem value="npm" label="NPM">
    ```bash
    npm install react-native-gesture-handler
    ```
  </TabItem>
  <TabItem value="yarn" label="YARN">
    ```bash
    yarn add react-native-gesture-handler
    ```
  </TabItem>
</Tabs>

### 2. Wrap your app with `GestureHandlerRootView` component

```jsx
import { GestureHandlerRootView } from 'react-native-gesture-handler';

export default function App() {
  return (
    <GestureHandlerRootView>
      <ActualApp />
    </GestureHandlerRootView>
  );
}
```
Keep `GestureHandlerRootView` as close to the actual root of the app as possible. It's the entry point for all gestures and all [gesture relations](/docs/fundamentals/gesture-composition). The gestures won't be recognized outside of the root view, and relations only work between gestures mounted under the same root view.

If you don't provide anything to the `styles` prop, it will default to `flex: 1`. If you want to customize the styling of the root view, don't forget to also include `flex: 1` in the custom style, otherwise your app won't render anything. 

If you're unsure if one of your dependencies already renders `GestureHandlerRootView` on its own, don't worry and add one at the root anyway. In case of nested root views, Gesture Handler will only use the top-most one and ignore the nested ones.

:::note
Remember that you need to wrap each screen that you use in your app with `GestureHandlerRootView` as with native navigation libraries each screen maps to a separate root view. It will not be enough to wrap the main screen only.
:::

#### Using `GestureHandlerRootView` with third party libraries

If you're having trouble with gestures not working when inside a component provided by a third-party library, even though you've wrapped the entry point with `<GestureHandlerRootView>`, you can try adding another `<GestureHandlerRootView unstable_forceActive>` closer to the place the gestures are defined. This way, you can prevent Android from canceling relevant gestures when one of the native views tries to grab lock for delivering touch events.

:::tip
If you're using Gesture Handler in your component library, you may want to wrap your library's code in the `GestureHandlerRootView` component. This will avoid extra configuration for the user.
:::

### 3. Platform specific setup

#### [Expo development build](https://docs.expo.dev/develop/development-builds/introduction/)

When using an Expo development build, run prebuild to update the native code in the ios and android directories.

```bash
npx expo prebuild
```

#### Android

Setting up Gesture Handler on Android doesn't require any more steps. Keep in mind that if you want to use gestures in [Modals](https://reactnative.dev/docs/modal) you need to wrap Modal's content with `GestureHandlerRootView`:

```jsx
import { Modal } from 'react-native';
import { GestureHandlerRootView } from 'react-native-gesture-handler';

export function CustomModal({ children, ...rest }) {
  return (
    <Modal {...rest}>
      <GestureHandlerRootView>{children}</GestureHandlerRootView>
    </Modal>
  );
}
```

Gesture Handler on Android is implemented in Kotlin. If you need to set a specific Kotlin version to be used by the library, set the `kotlinVersion` ext property in `android/build.gradle` file and RNGH will use that version:

```groovy
buildscript {
    ext {
        kotlinVersion = "2.1.20"
    }
}
```

#### iOS

While developing for iOS, make sure to install [pods](https://cocoapods.org/) first before running the app:

```bash
cd ios && bundle install && bundle exec pod install && cd ..
```

#### macOS

While developing for macOS, make sure to install [pods](https://cocoapods.org/) first before running the app:

```bash
cd macos && bundle install && bundle exec pod install && cd ..
```

#### Web

There is no additional configuration required for the web.

#### With [wix/react-native-navigation](https://github.com/wix/react-native-navigation)

If you are using a native navigation library like [wix/react-native-navigation](https://github.com/wix/react-native-navigation) you need to make sure that every screen is wrapped with `GestureHandlerRootView`. This can be done for example at the stage when you register your screens. Here's an example:

```js
import { Navigation } from 'react-native-navigation';
import FirstTabScreen from './FirstTabScreen';
import SecondTabScreen from './SecondTabScreen';
import PushedScreen from './PushedScreen';

// register all screens of the app (including internal ones)
export function registerScreens() {
  Navigation.registerComponent(
    'example.FirstTabScreen',
    () => {
      return (
        <GestureHandlerRootView>
          <FirstTabScreen />
        </GestureHandlerRootView>
      );
    },
    () => FirstTabScreen
  );
  Navigation.registerComponent(
    'example.SecondTabScreen',
    () => {
      return (
        <GestureHandlerRootView>
          <SecondTabScreen />
        </GestureHandlerRootView>
      );
    },
    () => SecondTabScreen
  );
  Navigation.registerComponent(
    'example.PushedScreen',
    () => {
      return (
        <GestureHandlerRootView>
          <PushedScreen />
        </GestureHandlerRootView>
      );
    },
    () => PushedScreen
  );
}
```

You can check out [this example project](https://github.com/henrikra/nativeNavigationGestureHandler) to see this kind of set up in action.
